<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>wig &#8212; wig 0.0.1a documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="_static/extra.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>



<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#"><span><img src="_static/wig.svg"></span>
        wig</a>
      <span class="navbar-text navbar-version pull-left"><b>0.0.1</b></span>
    </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
            <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Alex Hagen <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#"> <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">wig</a></li>
<li><a class="reference internal" href="#main-object">Main object</a><ul>
<li><a class="reference internal" href="#wig-wig-object"><code class="docutils literal notranslate"><span class="pre">wig.wig</span></code> object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-deck-creation-submodules">Input Deck Creation Submodules</a><ul>
<li><a class="reference internal" href="#wig-geo-object">wig.geo object</a></li>
<li><a class="reference internal" href="#wig-matl-object">wig.matl object</a></li>
<li><a class="reference internal" href="#wig-cell-object">wig.cell object</a></li>
<li><a class="reference internal" href="#wig-phys-object">wig.phys object</a></li>
<li><a class="reference internal" href="#wig-source-object">wig.source object</a></li>
<li><a class="reference internal" href="#wig-tally-object">wig.tally object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-and-runtime-submodules">Run and Runtime Submodules</a><ul>
<li><a class="reference internal" href="#wig-runner-object">wig.runner object</a></li>
<li><a class="reference internal" href="#wig-mcnpdaemon-object">wig.mcnpdaemon object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#post-processing-submodules">Post-processing Submodules</a><ul>
<li><a class="reference internal" href="#wig-analyze-object">wig.analyze object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#convenience-and-internal-submodules">Convenience and internal submodules</a><ul>
<li><a class="reference internal" href="#wig-mcnp-string-object">wig.mcnp_string object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a><ul>
<li><a class="reference internal" href="#contents">Contents</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#todos">ToDos</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          
          
            
              
            
          
          
          
          
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://alexhagen.github.io/" target="_blank">Alex Hagen</a></li>
        </ul>
      </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="wig">
<h1>wig<a class="headerlink" href="#wig" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">wig</span></code> is for use with <code class="docutils literal notranslate"><span class="pre">MCNP</span></code> provided by <code class="docutils literal notranslate"><span class="pre">RSICC</span></code> only. Any use
of <code class="docutils literal notranslate"><span class="pre">MCNP</span></code> through <code class="docutils literal notranslate"><span class="pre">wig</span></code> is subject to the requirements and
regulations imposed by <code class="docutils literal notranslate"><span class="pre">RSICC</span></code>.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">wig</span></code> has a couple parts. Click the links below or just read through
if you’re new here.</p>
<p><a class="reference external" href="mcnp_compilation">MCNP Compilation Help</a></p>
<p><a class="reference internal" href="_images/brender_01.png"><img alt="image1" src="_images/brender_01.png" style="height: 320px;" /></a> <a class="reference internal" href="_images/eal_threshold_test_cutaway.png"><img alt="image2" src="_images/eal_threshold_test_cutaway.png" style="width: 320px;" /></a> <a class="reference internal" href="_images/eal_threshold_test_setup.png"><img alt="image3" src="_images/eal_threshold_test_setup.png" style="width: 320px;" /></a></p>
<p>MCNP (Monte Carlo N Particle) software, from LLNL, is an incredible tool
for simulation of neutrons, photons, and electrons. I use it extensively
for my research, and it does a great job at a very complex task.
Unfortunately, it’s a nightmare to use. Basically uncompilable by real
humans, finicky about input decks and spaces, and almost completely text
only (even though Vis-Ed has gotten steadily better), there are lots of
improvements that could be made.</p>
<p>I’ll be honest here, I’m writing <code class="docutils literal notranslate"><span class="pre">wig</span></code> to scratch my own itch. I need
a way to:</p>
<ul class="simple">
<li><p>create repeatable input decks</p></li>
<li><p>automatically create publication worthy figures</p></li>
<li><p>save geometry and materials as <em>assets</em> somewhere accessible and
reusable</p></li>
<li><p>add some sort of semantic meaning to the syntax of mcnp</p></li>
<li><p>cite sources in input decks to remember where I got numbers and
materials</p></li>
<li><p>enable easy sending of input decks to be run on “clusters” through
<code class="docutils literal notranslate"><span class="pre">ssh</span></code></p></li>
</ul>
<p>The name is a nod to Eugene Wigner, particularly his contributions to
nuclear structure and quantum mechanics, where he <strong>made use of the
random matrix</strong> to describe cross-section structure. MCNP makes use of
random numbers to help us experimenters know what’s physically going on,
and I want <code class="docutils literal notranslate"><span class="pre">wig</span></code> to make use of the “random” syntax of MCNP for ease
of use. So it’s pronounced <em>vig</em>.</p>
<p>As of now, this package is in a really-really-really alpha stage. I
think only I can use it because of it’s finickiness. But, it allows for
quick (and semantic) development of MCNP decks using a <strong>pipeline</strong>
method. The <strong>pipeline</strong> method will be familiar to those that use MCNP
a lot. The steps in the pipeline are:</p>
<ol class="arabic simple">
<li><p>Geometry (create <code class="docutils literal notranslate"><span class="pre">geo</span></code>s)</p></li>
<li><p>Materials (create <code class="docutils literal notranslate"><span class="pre">matl</span></code>s)</p></li>
<li><p>Cells (combine <code class="docutils literal notranslate"><span class="pre">geo</span></code>s as needed and apply <code class="docutils literal notranslate"><span class="pre">matl</span></code>s)</p></li>
<li><p>Physics (there’s a pretty hands off way to define the common physics)</p></li>
<li><p>Sources (create <code class="docutils literal notranslate"><span class="pre">source</span></code>)</p></li>
<li><p>Tallies (there’s pretty hands off way for some tally specs now)</p></li>
<li><p>Run</p></li>
</ol>
<p>The pipeline method means that this package is very semantic, so instead
of just typing in numbers separated by spaces, you actually assign
variables and document things. You can also script MCNP because of
python, for example if you wanted to move a source throughout a bunch of
different simulations for time dependence. Finally, this code will, if
you have the proper requirements, render pretty pictures of your
simulation.</p>

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example---The-Moon-Voyage">Example - The Moon Voyage<a class="anchor-link" href="#Example---The-Moon-Voyage">&#194;&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've waffled on what example to use for <code>wig</code>/<code>MCNP</code> for a while.  All the nuclear stuff that isn't boring is, in general, classified or difficult.  So, I went for something interesting, but completely unrealistic: Jules Verne's <em>The Moon Voyage</em>.  In the book, Mr. Verne describes launching a bullet shaped projectile from Tampa to the moon.  I think it'd be interesting to see, among other reasons why the inhabitants would surely be unable to survive, how much radiation dose they would get on their trip.  <code>MCNP</code> is great for neutral particles, and not so great for continuum interactions, so we'll ignore the cosmic protons here (which are admittedly a huge part of solar radiation), but we will take into account solar photons with their spectrum.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first thing we have to do to start the simulation is to import <code>wig</code>.  This is reasonably simple: <code>wig</code> has a main class, called <code>wig.wig</code> and then seven other classes, imported below, named (hopefully) self-explanatorially. We should also import <code>numpy</code>, because I can't imagine life without it.  And finally, we import some functions that convert imperial units to centimeters, because Mr. Verne didn't know any better than to use them.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">wig</span> <span class="kn">import</span> <span class="n">wig</span><span class="p">,</span> <span class="n">geo</span><span class="p">,</span> <span class="n">cell</span><span class="p">,</span> <span class="n">matl</span><span class="p">,</span> <span class="n">phys</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">tally</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="c1"># I know this is bad form, but I want to use feet(9) instead of units.feet(9), it&#39;s just easier</span>
<span class="kn">from</span> <span class="nn">units</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we'll have to start our scene.  We'll use <code>MCNP6</code> to make use of the new photon libraries (and photoneutron interactions), so to run this, you'll have to have <code>mcnp6</code> on your path.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">scene</span> <span class="o">=</span> <span class="n">wig</span><span class="o">.</span><span class="n">wig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;moon_voyage_projectile&#39;</span><span class="p">,</span> <span class="n">flavor</span><span class="o">=</span><span class="s1">&#39;6&#39;</span><span class="p">,</span>
                <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;Solar photons incident on a bullet shaped aluminum</span>
<span class="s1">                           projectile from Jules Vernes The Moon Voyage&#39;&#39;&#39;</span><span class="p">,</span>
                <span class="n">render</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we'll make the geometry.  Note that <code>MCNP</code> splits geometry and cells into two modules - you'll have to first define geometries and then combine them into cells.  <code>wig</code> attempts to make this more semantic, but it definitely could still use some help.  Note also that <code>wig</code> does not have to be written in order.  You could write materials, then physics, then sources, then geometry and cells; however, the geometry and materials <strong>must</strong> be defined before the cells - but that's just basic programming, you have to define variables before you use them.</p>
<p>So below, we'll generate a reasonably complex geometry, as Verne describes the projectile as:</p>
<blockquote><p>...a cylindro-conical projectile... The projectile outside was nine feet wide and twelve feet high. ...under the wadding were four thick lenticular footlights, two let into the circular wall of the projectile, the third in its lower part...</p>
</blockquote>
<p>So now let's get to modeling. First, we need the outer surfaces of the bullet.  We'll create a cylinder for the base, a cone for the top, and we'll use a sphere to soften the connection between the cylinder and cone.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># the outside cylinder, centered around the origin - which means the base has to go down halfway</span>
<span class="c1"># also, we must convert everything from imperial units to centimeters</span>
<span class="c1"># bullet outer radius in centimeters</span>
<span class="n">bullet_or</span> <span class="o">=</span> <span class="mf">4.5</span> <span class="o">*</span> <span class="mf">12.</span> <span class="o">*</span> <span class="mf">2.540</span>
<span class="c1"># bullet cylindrical length in centimeters</span>
<span class="n">bullet_h</span> <span class="o">=</span> <span class="mf">10.</span> <span class="o">*</span> <span class="mf">12.</span> <span class="o">*</span> <span class="mf">2.540</span>
<span class="c1"># bullet offset from origin to place the floor at the origin</span>
<span class="n">bullet_dz</span> <span class="o">=</span> <span class="o">-</span><span class="mf">19.</span> <span class="o">*</span> <span class="mf">2.540</span>
<span class="c1"># bullet point height is 12 feet, converted to centimeters</span>
<span class="n">bullet_point_z</span> <span class="o">=</span> <span class="mf">16.</span> <span class="o">*</span> <span class="mf">12.</span> <span class="o">*</span> <span class="mf">2.540</span>
<span class="n">bocyl</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_dz</span><span class="p">),</span> <span class="n">r</span><span class="o">=</span><span class="n">bullet_or</span><span class="p">,</span> <span class="n">lz</span><span class="o">=</span><span class="n">bullet_h</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_outer_cyl&#39;</span><span class="p">)</span>
<span class="c1"># the sphere to soften the curve - must hit tangent at the top of the cylinder</span>
<span class="n">bosph</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">sph</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_dz</span> <span class="o">+</span> <span class="n">bullet_h</span><span class="p">),</span> <span class="n">r</span><span class="o">=</span><span class="n">bullet_or</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_outer_fillet&#39;</span><span class="p">)</span>
<span class="c1"># Now the cone going from a point on the sphere, tangent to the sphere, up to a point</span>
<span class="c1"># find the place on the sphere where it is 45deg tangent</span>
<span class="n">dz</span> <span class="o">=</span> <span class="n">bullet_point_z</span> <span class="o">-</span> <span class="n">bullet_h</span>
<span class="n">dz1</span> <span class="o">=</span> <span class="p">((</span><span class="n">dz</span> <span class="o">*</span> <span class="n">dz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">bullet_or</span> <span class="o">*</span> <span class="n">bullet_or</span><span class="p">))</span> <span class="o">/</span> <span class="n">dz</span>
<span class="n">dz2</span> <span class="o">=</span> <span class="n">dz</span> <span class="o">-</span> <span class="n">dz1</span>
<span class="n">ocone_bottom_h</span> <span class="o">=</span> <span class="n">dz2</span>
<span class="n">ocone_bottom_r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">bullet_or</span> <span class="o">*</span> <span class="n">bullet_or</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">dz2</span> <span class="o">*</span> <span class="n">dz2</span><span class="p">))</span>
<span class="c1"># Now find the radius at that point</span>
<span class="n">bocone</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">cone</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_dz</span> <span class="o">+</span> <span class="n">bullet_h</span> <span class="o">+</span> <span class="n">ocone_bottom_h</span><span class="p">),</span> <span class="n">r1</span><span class="o">=</span><span class="n">ocone_bottom_r</span><span class="p">,</span> <span class="n">r2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                        <span class="n">lz</span><span class="o">=</span><span class="n">dz1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_outer_point&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we can add the hollow section, which the book claims is 12" thick in most places.  We should make the bottom 18" thick, because it was noted to be thicker at the bottom.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">bullet_ir</span> <span class="o">=</span> <span class="n">feet</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span> <span class="c1">#3.5 * 12. * 2.540</span>
<span class="n">bullet_ih</span> <span class="o">=</span> <span class="n">feet</span><span class="p">(</span><span class="mf">8.5</span><span class="p">)</span> <span class="c1">#8.5 * 12. * 2.540</span>
<span class="n">bullet_idz</span> <span class="o">=</span> <span class="o">-</span><span class="n">inches</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#-1. * 2.540</span>
<span class="n">bicyl</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_idz</span><span class="p">),</span> <span class="n">r</span><span class="o">=</span><span class="n">bullet_ir</span><span class="p">,</span> <span class="n">lz</span><span class="o">=</span><span class="n">bullet_ih</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_inner_cyl&#39;</span><span class="p">)</span>
<span class="c1"># the sphere to soften the curve - must hit tangent at the top of the cylinder</span>
<span class="n">bisph</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">sph</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_dz</span> <span class="o">+</span> <span class="n">bullet_h</span><span class="p">),</span> <span class="n">r</span><span class="o">=</span><span class="n">bullet_ir</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_inner_fillet&#39;</span><span class="p">)</span>
<span class="c1"># Now the cone going from a point on the sphere, tangent to the sphere, up to a point</span>
<span class="n">dz</span> <span class="o">=</span> <span class="n">bullet_point_z</span> <span class="o">-</span> <span class="n">bullet_h</span> <span class="o">-</span> <span class="n">feet</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># (12. * 2.540)</span>
<span class="n">dz1</span> <span class="o">=</span> <span class="p">((</span><span class="n">dz</span> <span class="o">*</span> <span class="n">dz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">bullet_ir</span> <span class="o">*</span> <span class="n">bullet_ir</span><span class="p">))</span> <span class="o">/</span> <span class="n">dz</span>
<span class="n">dz2</span> <span class="o">=</span> <span class="n">dz</span> <span class="o">-</span> <span class="n">dz1</span>
<span class="n">icone_bottom_h</span> <span class="o">=</span> <span class="n">dz2</span>
<span class="n">icone_bottom_r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">bullet_ir</span> <span class="o">*</span> <span class="n">bullet_ir</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">dz2</span> <span class="o">*</span> <span class="n">dz2</span><span class="p">))</span>
<span class="n">bicone</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">cone</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">bullet_idz</span> <span class="o">+</span> <span class="n">bullet_ih</span> <span class="o">+</span> <span class="n">icone_bottom_h</span><span class="p">),</span> <span class="n">r1</span><span class="o">=</span><span class="n">icone_bottom_r</span><span class="p">,</span> <span class="n">r2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                        <span class="n">lz</span><span class="o">=</span><span class="n">dz1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;bullet_inner_point&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There were at least three portholes, each with a brass surround and glass.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">phole1</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span> <span class="n">inches</span><span class="p">(</span><span class="mi">19</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mf">5.5</span><span class="p">),</span> <span class="n">lz</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;porthole1&#39;</span><span class="p">)</span>
<span class="n">pholebrass1</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span> <span class="n">inches</span><span class="p">(</span><span class="mi">19</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">lz</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;portholebrass1&#39;</span><span class="p">)</span>
<span class="n">phole2</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">inches</span><span class="p">(</span><span class="mi">40</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mf">5.5</span><span class="p">),</span> <span class="n">lx</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;porthole2&#39;</span><span class="p">)</span>
<span class="n">pholebrass2</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">inches</span><span class="p">(</span><span class="mi">40</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">lx</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;portholebrass2&#39;</span><span class="p">)</span>
<span class="n">phole3</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">inches</span><span class="p">(</span><span class="mi">40</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mf">5.5</span><span class="p">),</span> <span class="n">ly</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;porthole3&#39;</span><span class="p">)</span>
<span class="n">pholebrass3</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">inches</span><span class="p">(</span><span class="mi">40</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">ly</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;portholebrass3&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The book states that there is a plank of wood holding the room which the inhabitants live in.  This is hermetically sealed around the bottom of the inside of the cylinder.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">woodcyl</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">rcc</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">inches</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="n">r</span><span class="o">=</span><span class="n">bullet_ir</span><span class="p">,</span> <span class="n">lz</span><span class="o">=</span><span class="n">inches</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;wood_disk&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we have those, we can add an enclosing universe, and add all the geometry to the model</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">uni</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">geo</span><span class="p">()</span><span class="o">.</span><span class="n">sph</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">),</span> <span class="n">r</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;universe&#39;</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">geo</span><span class="p">([</span><span class="n">bocyl</span><span class="p">,</span> <span class="n">bosph</span><span class="p">,</span> <span class="n">bocone</span><span class="p">,</span> <span class="n">bicyl</span><span class="p">,</span> <span class="n">bisph</span><span class="p">,</span> <span class="n">bicone</span><span class="p">,</span>
           <span class="n">woodcyl</span><span class="p">,</span>
           <span class="n">phole1</span><span class="p">,</span> <span class="n">phole2</span><span class="p">,</span> <span class="n">phole3</span><span class="p">,</span>
           <span class="n">pholebrass1</span><span class="p">,</span> <span class="n">pholebrass2</span><span class="p">,</span> <span class="n">pholebrass3</span><span class="p">,</span>
           <span class="n">uni</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we need to define some materials for this model.  All of these come from the PNNL Compendium.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># air for the insides of the cabin</span>
<span class="n">air</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">0.001205</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;air&#39;</span><span class="p">,</span> <span class="n">mass_perc</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mf">0.000124</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;N-14&#39;</span><span class="p">,</span> <span class="mf">0.755268</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;O-16&#39;</span><span class="p">,</span> <span class="mf">0.231781</span><span class="p">),</span>
                                                     <span class="p">(</span><span class="s1">&#39;Ar&#39;</span><span class="p">,</span> <span class="mf">0.012827</span><span class="p">)])</span>
<span class="c1"># aluminum - note that aluminum alloys were terrible in Jules Verne&#39;s time, so I&#39;ll just</span>
<span class="c1"># assume that its pure</span>
<span class="n">aluminum</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">2.6989</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;aluminum&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#888888&#39;</span><span class="p">,</span> <span class="n">atom_perc</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Al-27&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)])</span>
<span class="c1"># The only wood that PNNL gives us is southern pine - but the book is set in Florida,</span>
<span class="c1"># which is pretty southern, I guess</span>
<span class="n">wood</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">0.640</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;wood&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#966F33&#39;</span><span class="p">,</span>
                 <span class="n">atom_perc</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;H-1&#39;</span><span class="p">,</span> <span class="mf">0.462423</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mf">0.323389</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;N-14&#39;</span><span class="p">,</span> <span class="mf">0.002773</span><span class="p">),</span>
                              <span class="p">(</span><span class="s1">&#39;O-16&#39;</span><span class="p">,</span> <span class="mf">0.208779</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Mg&#39;</span><span class="p">,</span> <span class="mf">0.000639</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="mf">0.001211</span><span class="p">),</span>
                              <span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="mf">0.000397</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Ca&#39;</span><span class="p">,</span> <span class="mf">0.000388</span><span class="p">)])</span>
<span class="c1"># Plate glass for the windows - who knows if they can be casted that thick</span>
<span class="n">glass</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">2.4</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;glass&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7299c6&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
                  <span class="n">atom_perc</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;O-16&#39;</span><span class="p">,</span> <span class="mf">0.603858</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Na-23&#39;</span><span class="p">,</span> <span class="mf">0.088145</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Si&#39;</span><span class="p">,</span> <span class="mf">0.251791</span><span class="p">),</span>
                               <span class="p">(</span><span class="s1">&#39;Ca&#39;</span><span class="p">,</span> <span class="mf">0.056205</span><span class="p">)])</span>
<span class="c1"># Brass for the surrounds on the outside of the windows</span>
<span class="n">brass</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;brass&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#b5a642&#39;</span><span class="p">,</span>
                  <span class="n">atom_perc</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="mf">0.001002</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="mf">0.674918</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Zn&#39;</span><span class="p">,</span> <span class="mf">0.320956</span><span class="p">),</span>
                             <span class="p">(</span><span class="s1">&#39;Sn&#39;</span><span class="p">,</span> <span class="mf">0.001451</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Pb&#39;</span><span class="p">,</span> <span class="mf">0.001673</span><span class="p">)])</span>
<span class="n">void</span> <span class="o">=</span> <span class="n">matl</span><span class="o">.</span><span class="n">matl</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;void&#39;</span><span class="p">,</span> <span class="n">mass_perc</span> <span class="o">=</span> <span class="p">[])</span>
<span class="n">scene</span><span class="o">.</span><span class="n">matl</span><span class="p">([</span><span class="n">air</span><span class="p">,</span> <span class="n">aluminum</span><span class="p">,</span> <span class="n">wood</span><span class="p">,</span> <span class="n">glass</span><span class="p">,</span> <span class="n">brass</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, to make the cells using the geometry and the materials.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">capture</span>
bullet_cell = cell.cell(bocyl + bosph + bocone - bicyl - bisph - bicone - 
                        pholebrass1 - pholebrass2 - pholebrass3, aluminum)
wood_cell = cell.cell(woodcyl - pholebrass1, wood)
window_1_b = cell.cell(pholebrass1 - phole1 - bicyl, brass)
window_1 = cell.cell(phole1 - bicyl, glass)
window_2_b = cell.cell(pholebrass2 - phole2 - bicyl, brass)
window_2 = cell.cell(phole2 - bicyl, glass)
window_3_b = cell.cell(pholebrass3 - phole3 - bicyl, brass)
window_3 = cell.cell(phole3 - bicyl, glass)
air_cell = cell.cell(bicyl + bisph + bicone - woodcyl, air, show=False)
uni_cell = cell.cell(uni - bocyl - bosph - bocone, void, show=False)
scene.cell([bullet_cell, wood_cell,
            window_1, window_2, window_3,
            window_1_b, window_2_b, window_3_b,
            air_cell, uni_cell])
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we have the geometry built, we need some details about the physics.  We're only going to take into account photons for now, and their energies need to span a huge range - we'll span the entire range of the solar irradiance dataset from Wehrli 1985, which is $199.5\mathrm{nm}$ to $10075.0\mathrm{nm}$ (or $.123\mathrm{eV}$  to $6.2\mathrm{eV}$).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Add some typical neutron physics</span>
<span class="n">physics</span> <span class="o">=</span> <span class="n">phys</span><span class="o">.</span><span class="n">phys</span><span class="p">(</span><span class="n">particles</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">nps</span><span class="o">=</span><span class="mf">1E8</span><span class="p">,</span> <span class="n">maxE</span><span class="o">=</span><span class="mf">6.2E-6</span><span class="p">,</span> <span class="n">minE</span><span class="o">=</span><span class="mf">0.123E-6</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">phys</span><span class="p">(</span><span class="n">physics</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we'll add a source.  The projectile is far enough from the sun to assume that the sun is a plane source.  We'll add a source covering the projectile to the $-x$ direction in our model.  The spectrum is taken from the ASTM E490-0 AM0 old Spectrum from NREL and Wehrli.  I've downloaded a text file from NREL and will use it to plot the spectrum below. Then, we'll have to convert this to flux instead of irradiance using the formula $$F\left(\lambda\right) = \Phi E \frac{1}{\Delta \lambda}$$ and by solving for $\Phi$ $$\Phi = F\left(\lambda\right)\frac{\Delta\lambda}{E}$$ We're using a couple libraries I maintain for data analysis and plotting called <a href="https://alexhagen.github.io/pym"><code>pym</code></a> and <a href="http://alexhagen.github.io/pyg"><code>pyg</code></a>, respectively.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">pym</span> <span class="kn">import</span> <span class="n">func</span> <span class="k">as</span> <span class="n">pym</span>
<span class="kn">from</span> <span class="nn">pyg</span> <span class="kn">import</span> <span class="n">twod</span> <span class="k">as</span> <span class="n">pyg2d</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="c1"># Wehrli gives irradiance in W/m^2/nm</span>
<span class="n">wavelength</span><span class="p">,</span> <span class="n">irradiance</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> \
    <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">scene</span><span class="o">.</span><span class="n">original_directory</span> <span class="o">+</span> <span class="s1">&#39;/wehrli85.txt&#39;</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">4.135668E-15</span> <span class="c1"># planck&#39;s constant in eV s</span>
<span class="n">c</span> <span class="o">=</span> <span class="mf">2.998E+17</span> <span class="c1">#speed of light in nm/s</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="p">(</span><span class="n">c</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">wavelength</span><span class="p">))</span>
<span class="c1"># Conversion to flux (and converting eV to J)</span>
<span class="n">Phi</span> <span class="o">=</span> <span class="p">(</span><span class="n">irradiance</span> <span class="o">/</span> <span class="p">(</span><span class="n">E</span> <span class="o">*</span> <span class="mf">1.6E-19</span><span class="p">))</span> <span class="o">*</span> <span class="n">wavelength</span>
<span class="n">flux_spectrum</span> <span class="o">=</span> <span class="n">pym</span><span class="o">.</span><span class="n">curve</span><span class="p">(</span><span class="n">E</span><span class="p">,</span> <span class="n">Phi</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;solar_flux_spectrum&#39;</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">flux_spectrum</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Photon Energy ($E$) [$\mathrm{eV}$]&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Flux ($\Phi$) [$\mathrm{\frac{\text{photon}}{m^{2} \cdot s}}$]&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">markers_off</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">&#39;solar_spectrum&#39;</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="s1">&#39;silver&#39;</span><span class="p">)</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;solar_spectrum.svg&#39;</span><span class="p">,</span> <span class="n">scene</span><span class="o">.</span><span class="n">original_directory</span> <span class="o">+</span> <span class="s1">&#39;/solar_spectrum.svg&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;The solar spectrum from Wehrli 1985 in energy units&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;solspec&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

				<div class='pygfigure' name='solspec' style='text-align: center; max-width: 800px; margin-left: auto; margin-right: auto;'>
					<img style='margin: auto; max-width:100%; width:1250.000000px; height: auto;' src='solar_spectrum.svg?1470134722' />
					<div style='margin: auto; text-align: center;' class='figurecaption'><b>Figure 1:</b> The solar spectrum from Wehrli 1985 in energy units</div>
				</div>
			
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># add the source</span>
<span class="n">sun</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">source</span><span class="p">(</span><span class="n">particle</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="n">feet</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;sun&#39;</span><span class="p">,</span>
                    <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;disk&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;+y&#39;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> 
                    <span class="n">spectrum</span><span class="o">=</span><span class="p">[</span><span class="n">E</span><span class="p">,</span> <span class="n">Phi</span><span class="p">])</span>
<span class="n">scene</span><span class="o">.</span><span class="n">source</span><span class="p">([</span><span class="n">sun</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And let's check a tally or two.  I think we'd like to have a flux tally inside of the chamber, and also a heating tally in the bullet cell. These commands should be pretty semantic</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># add some tallys</span>
<span class="n">mesh_tally</span> <span class="o">=</span> <span class="n">tally</span><span class="o">.</span><span class="n">tally</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s1">&#39;compartment_mesh&#39;</span><span class="p">,</span> <span class="n">particle</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">mesh_tally</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">xmax</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">i</span><span class="o">=</span><span class="mi">9</span><span class="o">*</span><span class="mi">12</span><span class="p">,</span>
                <span class="n">ymin</span><span class="o">=-</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">ymax</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">j</span><span class="o">=</span><span class="mi">9</span><span class="o">*</span><span class="mi">12</span><span class="p">,</span>
                <span class="n">zmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">zmax</span><span class="o">=</span><span class="n">feet</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="o">*</span><span class="mi">12</span><span class="p">)</span>
<span class="n">energy_tally</span> <span class="o">=</span> <span class="n">tally</span><span class="o">.</span><span class="n">tally</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s1">&#39;aluminum_heating&#39;</span><span class="p">,</span> <span class="n">particle</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">energy</span><span class="o">=</span><span class="p">[</span><span class="mf">0.123E-6</span><span class="p">,</span> <span class="mf">6.2E-6</span><span class="p">])</span>\
    <span class="o">.</span><span class="n">energy_tally</span><span class="p">(</span><span class="n">tally_cell</span><span class="o">=</span><span class="n">bullet_cell</span><span class="p">)</span>

<span class="n">scene</span><span class="o">.</span><span class="n">tally</span><span class="p">([</span><span class="n">energy_tally</span><span class="p">,</span> <span class="n">mesh_tally</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we can run it.  We want to do a rendering of the geometry, so we'll look at that first.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">scene2</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">bscene</span>
<span class="n">scene2</span><span class="o">.</span><span class="n">cutaway</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">100.</span><span class="p">,</span> <span class="mf">100.</span><span class="p">,</span> <span class="n">feet</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="n">l</span><span class="o">=</span><span class="p">(</span><span class="mf">200.</span><span class="p">,</span> <span class="mf">200.</span><span class="p">,</span> <span class="n">feet</span><span class="p">(</span><span class="mi">20</span><span class="p">)))</span>
<span class="n">scene2</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">res</span><span class="o">=</span><span class="p">[</span><span class="mi">1080</span><span class="p">,</span> <span class="mi">1920</span><span class="p">],</span> <span class="n">samples</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> 
           <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">feet</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="n">camera_location</span><span class="o">=</span><span class="p">(</span><span class="mf">700.</span><span class="p">,</span> <span class="mf">700.</span><span class="p">,</span> <span class="mf">375.</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">pyg</span> <span class="kn">import</span> <span class="n">three2twod</span> <span class="k">as</span> <span class="n">pyg32d</span>

<span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;brender_01.png&#39;</span><span class="p">,</span> <span class="n">scene</span><span class="o">.</span><span class="n">original_directory</span> <span class="o">+</span> <span class="s1">&#39;/moon_voyage.png&#39;</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">pyg32d</span><span class="o">.</span><span class="n">ann_im</span><span class="p">(</span><span class="n">scene</span><span class="o">.</span><span class="n">original_directory</span> <span class="o">+</span> <span class="s1">&#39;/moon_voyage.png&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">add_data_pointer</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">feet</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="n">feet</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="n">feet</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
                      <span class="n">string</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;Sun (disk photon source)&#39;</span><span class="p">,</span>
                      <span class="n">place</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">200.</span><span class="p">,</span> <span class="mf">200.</span><span class="p">))</span>
<span class="n">plot</span><span class="o">.</span><span class="n">add_legend_entry</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#888888&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Aluminum&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">add_legend_entry</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#b5a642&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Brass&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">add_legend_entry</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7299c6&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Glass&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">add_legend_entry</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#966F33&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Wood&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">&#39;moon_voyage&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="s1">&#39;invgolden&#39;</span><span class="p">)</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;moon_voyage.svg&#39;</span><span class="p">,</span> <span class="n">scene</span><span class="o">.</span><span class="n">original_directory</span> <span class="o">+</span> <span class="s1">&#39;/moon_voyage.svg&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;Depiction of the Moon Voyage</span><span class="se">\&#39;</span><span class="s1">s cylindo-conical projectile&#39;</span><span class="p">,</span>
          <span class="n">label</span><span class="o">=</span><span class="s1">&#39;moonvoyageprojectile&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

				<div class='pygfigure' name='moonvoyageprojectile' style='text-align: center; max-width: 800px; margin-left: auto; margin-right: auto;'>
					<img style='margin: auto; max-width:100%; width:1250.000000px; height: auto;' src='moon_voyage.svg?1503286020' />
					<div style='margin: auto; text-align: center;' class='figurecaption'><b>Figure 2:</b> Depiction of the Moon Voyage's cylindo-conical projectile</div>
				</div>
			
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And finally, we can run it.  I'll check back in in a week or so with the results!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">capture</span>
#scene.run(render=False)
</pre></div>

</div>
</div>
</div>

</div>
 

</div>
<div class="section" id="main-object">
<h1>Main object<a class="headerlink" href="#main-object" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wig-wig-object">
<h2><code class="docutils literal notranslate"><span class="pre">wig.wig</span></code> object<a class="headerlink" href="#wig-wig-object" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="input-deck-creation-submodules">
<h1>Input Deck Creation Submodules<a class="headerlink" href="#input-deck-creation-submodules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wig-geo-object">
<h2>wig.geo object<a class="headerlink" href="#wig-geo-object" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wig-matl-object">
<h2>wig.matl object<a class="headerlink" href="#wig-matl-object" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wig-cell-object">
<h2>wig.cell object<a class="headerlink" href="#wig-cell-object" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wig-phys-object">
<h2>wig.phys object<a class="headerlink" href="#wig-phys-object" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wig-source-object">
<h2>wig.source object<a class="headerlink" href="#wig-source-object" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wig-tally-object">
<h2>wig.tally object<a class="headerlink" href="#wig-tally-object" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="run-and-runtime-submodules">
<h1>Run and Runtime Submodules<a class="headerlink" href="#run-and-runtime-submodules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wig-runner-object">
<h2>wig.runner object<a class="headerlink" href="#wig-runner-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="wig.runner.runner">
<em class="property">class </em><code class="sig-prename descclassname">wig.runner.</code><code class="sig-name descname">runner</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">command</em>, <em class="sig-param">remote='local'</em>, <em class="sig-param">sys='linux'</em>, <em class="sig-param">blocking=False</em>, <em class="sig-param">clean=False</em>, <em class="sig-param">just_write=False</em>, <em class="sig-param">needs_to_run=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wig/runner.html#runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wig.runner.runner" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">runner</span></code> is an object that ssh’s to a remote (or local) system and
starts a <code class="docutils literal notranslate"><span class="pre">wig</span></code> job, assume that it is set up completely and correctly.
You can define your systems to run this on in ‘~/.wig/config.py’ as the
dict <code class="docutils literal notranslate"><span class="pre">systems</span></code> with structure</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">systems</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tianhe-2&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;255.255.255.255&quot;</span><span class="p">,</span> <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span>
                        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;nscwadmin&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;procs&quot;</span><span class="p">:</span> <span class="mi">10649600</span><span class="p">},</span>
           <span class="s2">&quot;titan&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;255.255.255.255&quot;</span><span class="p">,</span> <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span>
                     <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;ornladmin&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;procs&quot;</span><span class="p">:</span> <span class="mi">560640</span><span class="p">},</span>
           <span class="s2">&quot;local&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;procs&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}}</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>write article/todo on how to setup this</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – base name of the file to run</p></li>
<li><p><strong>command</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – command which will call the desired flavor of MCNP</p></li>
<li><p><strong>remote</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – string identifying the remote system</p></li>
<li><p><strong>sys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – type of system this will run on, currently only
supported for <code class="docutils literal notranslate"><span class="pre">'linux'</span></code>, although <code class="docutils literal notranslate"><span class="pre">'OSX'</span></code> would probably be easy</p></li>
<li><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether to wait for the MCNP run to finish before
continuing.  Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether to clean the old files with the same base
filename from <code class="docutils literal notranslate"><span class="pre">filename</span></code> from directory <code class="docutils literal notranslate"><span class="pre">~/mcnp/active/</span></code>.
Useful if you’ve screwed something up and want to start fresh</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="wig-mcnpdaemon-object">
<h2>wig.mcnpdaemon object<a class="headerlink" href="#wig-mcnpdaemon-object" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="post-processing-submodules">
<h1>Post-processing Submodules<a class="headerlink" href="#post-processing-submodules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wig-analyze-object">
<h2>wig.analyze object<a class="headerlink" href="#wig-analyze-object" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="convenience-and-internal-submodules">
<h1>Convenience and internal submodules<a class="headerlink" href="#convenience-and-internal-submodules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wig-mcnp-string-object">
<h2>wig.mcnp_string object<a class="headerlink" href="#wig-mcnp-string-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="wig.mcnp_string.mstring">
<em class="property">class </em><code class="sig-prename descclassname">wig.mcnp_string.</code><code class="sig-name descname">mstring</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wig/mcnp_string.html#mstring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wig.mcnp_string.mstring" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">mstring</span></code> are strings that can be printed in MCNP files.</p>
<p>MCNP is so finicky, and same with Python (with respect to indentation),
that it’s easier to just remove all newlines and split everything into 80
character blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – a string, formatted however, that will be converted
to MCNP format</p>
</dd>
</dl>
<dl class="method">
<dt id="wig.mcnp_string.mstring.flow">
<code class="sig-name descname">flow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wig/mcnp_string.html#mstring.flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wig.mcnp_string.mstring.flow" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">flow</span></code> actually converts the string to MCNP format.</p>
<dl class="field-list simple">
<dt class="field-odd">Return str string</dt>
<dd class="field-odd"><p>a string with newlines in 80 character blocks</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>write tests</p>
</div>
</div>
<div class="section" id="todos">
<h2>ToDos<a class="headerlink" href="#todos" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition">
<p class="admonition-title">Todo</p>
<p>write article/todo on how to setup this</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="#id1"><em>original entry</em></a> is located in /Users/hage581/code/wig/runner.py:docstring of wig.runner.runner, line 18.)</p>
<div class="admonition-todo admonition">
<p class="admonition-title">Todo</p>
<p>write tests</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="#id2"><em>original entry</em></a> is located in /Users/hage581/code/wig/docs/index.rst, line 25.)</p>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Alex Hagen.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>